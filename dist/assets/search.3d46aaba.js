import{_ as N}from"./left-arrow.4386ce21.js";import{A as _}from"./index.4d626d5a.js";import{_ as U,i as q,a as v,u as F,r as f,b as c,o as r,c as m,w as d,f as s,k as x,m as P,d as g,e as R,F as S,T as p,h as $,t as h}from"./index.0b45d1c6.js";const A={action:"/"},T={class:"content-box flex-1 overflow-auto bg-gray-100"},j={class:"box"},E=["onClick"],M=["src"],z={class:"text-warningColor text-[12px] p-[5px] absolute bottom-[20px] left-[8px] font-bold"},G={class:"text-[12px] left-[8px] font-bold"},H={name:"search",setup(J){const k=q("baseURL"),i=v(""),y=F(),t=f({pageIndex:1,keyword:""}),n=v(!1),o=f({listData:[],pageCount:0}),u=()=>{n.value=!0,t.pageIndex=1,_.movieInfo.search(t).then(e=>{e.data.listData.length==0?p("\u6682\u65E0\u6570\u636E"):(o.listData=e.data.listData,o.pageCount=e.data.pageCount)}).finally(()=>{n.value=!1})},w=()=>{t.keyword=i.value,t.keyword==""?p("\u8BF7\u8F93\u5165\u5185\u5BB9"):u()},b=()=>{t.keyword=i.value,t.keyword==""?p("\u8BF7\u8F93\u5165\u5185\u5BB9"):u()},C=()=>{t.pageIndex++,n.value=!0,_.movieInfo.search(t).then(e=>{o.listData=o.listData.concat(e.data.listData),o.pageCount=e.data.pageCount}).finally(()=>{n.value=!1})},D=e=>{y.push({name:"movieDetail",query:{id:e}})};return(e,l)=>{const I=c("van-search"),V=c("van-empty"),B=c("van-list"),L=c("page-view");return r(),m(L,{class:"flex flex-col"},{default:d(()=>[s("form",A,[x(I,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=a=>i.value=a),background:"#F7504D",shape:"round","show-action":"",onSearch:b,placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57"},{left:d(()=>[s("img",{src:N,class:"mr-[10px]",onClick:l[0]||(l[0]=a=>e.$router.back())})]),action:d(()=>[s("div",{onClick:w,class:"text-[14px] text-white"},"\u641C\u7D22")]),_:1},8,["modelValue"])]),s("div",T,[o.listData.length==0?(r(),m(V,{key:0,description:"\u6682\u65E0\u6570\u636E"})):P("",!0),x(B,{loading:n.value,"onUpdate:loading":l[2]||(l[2]=a=>n.value=a),"loading-text":"\u6B63\u5728\u52A0\u8F7D\u7535\u5F71\u6570\u636E",onLoad:C,finished:t.pageIndex>=o.pageCount},{default:d(()=>[s("div",j,[(r(!0),g(S,null,R(o.listData,a=>(r(),g("div",{class:"bg-white w-[110px] h-[140px] pb-[20px] p-[5px] relative",key:a.id,onClick:K=>D(a.id)},[s("img",{class:"w-full h-full",src:$(k)+a.movie_pc},null,8,M),s("p",z," \u89C2\u4F17\u8BC4\u5206: "+h(a.movie_score),1),s("p",G,h(a.movie_name),1)],8,E))),128))])]),_:1},8,["loading","finished"])])]),_:1})}}};var X=U(H,[["__scopeId","data-v-568099bc"]]);export{X as default};
