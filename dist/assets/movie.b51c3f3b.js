import{_ as R}from"./search.82d7ce93.js";import{t as T}from"./title-bar.e99cea30.js";import{A as L}from"./index.4d626d5a.js";import{_ as M,u as S,i as B,r as $,a as h,b as C,o as a,c as P,w as f,d as i,e as D,f as e,g as j,h as m,t as _,F as I,j as U,I as q,k,p as N,l as V,n as A}from"./index.4146fe7a.js";import"./left-arrow.4386ce21.js";var F="./assets/menu.c8016216.svg";const z=["onClick"],E={class:"w-[95px]"},G=["onClick","src"],H={class:"flex flex-col flex-1 justify-between text-[12px] list-none px-[10px]"},J={class:"text-[18pxs] font-bold"},K=U("\u4F17\u4EBA\u8BC4\u5206: "),O={class:"text-[14px] font-bold text-warningColor"},Q={class:"flex w-[70px] flex-col justify-center"},W={key:0,class:"btn-buy",type:"button"},X={key:1,type:"button",class:"btn-presale"},Y={name:"hotMovieList",setup(d){const g=S(),v=B("baseURL"),r=$({pageIndex:1,tags:"",movie_name:""}),p=h(!1),n=$({listData:[],pageCount:0}),u=()=>{p.value=!0,L.movieInfo.getListByPage(r).then(c=>{n.listData=n.listData.concat(c.data.listData),n.pageCount=c.data.pageCount}).finally(()=>{p.value=!1})};u();const b=()=>{r.pageIndex++,u()},y=c=>{g.push({name:"movieDetail",query:{id:c}})};return(c,s)=>{const l=C("van-list");return a(),P(l,{class:"bg-white mt-[5px]",loading:p.value,"onUpdate:loading":s[0]||(s[0]=t=>p.value=t),"loading-text":"\u6B63\u5728\u52A0\u8F7D\u7535\u5F71\u6570\u636E","finished-text":"\u6211\u662F\u6709\u5E95\u7EBF\u7684",onLoad:b,finished:r.pageIndex>=n.pageCount},{default:f(()=>[(a(!0),i(I,null,D(n.listData,t=>(a(),i("div",{class:"flex h-[120px] p-[5px]",key:t.id,onClick:w=>y(t.id)},[e("div",E,[e("img",{onClick:j(w=>m(q)([m(v)+t.movie_pc]),["stop"]),class:"w-full h-full",src:m(v)+t.movie_pc,alt:""},null,8,G)]),e("ul",H,[e("li",J,_(t.movie_name),1),e("li",null,[K,e("span",O,_(t.movie_score),1)]),e("li",null,"\u4E3B\u6F14: "+_(t.role),1),e("li",null,"\u4E0A\u6620\u65F6\u95F4:"+_(t.publicTime),1)]),e("div",Q,[t.publicTime<new Date().toLocaleDateString()?(a(),i("button",W,"\u8D2D\u7968")):(a(),i("button",X,"\u9884\u544A"))])],8,z))),128))]),_:1},8,["loading","finished"])}}};var Z=M(Y,[["__scopeId","data-v-4f31dafa"]]);const ee=d=>(N("data-v-36a3c90e"),d=d(),V(),d),te=U(" \u534E\u590F\u5F71\u9662 "),se={class:"type-tag bg-white"},oe=["onClick"],ae={class:"right-search-icon"},ne={class:"content-box"},le={class:"px-[10px] box-border bg-white pb-[15px]"},ie=ee(()=>e("p",{class:"text-gray-700 text-[12px] py-[5px]"},"\u6700\u53D7\u597D\u8BC4\u7684\u7535\u5F71",-1)),ce={class:"praise-list flex overflow-auto"},_e=["onClick"],re={class:"h-[110px] relative"},pe=["src"],ue={class:"text-yellow-500 text-[12px] absolute bottom-[2px] left-[8px] font-bold"},de={class:"text-[12px] font-bold truncate py-[5px]"},ve={name:"movie",setup(d){const g=$(["\u70ED\u6620","\u5F85\u6620","\u7ECF\u5178\u7535\u5F71"]),v=h(0),r=h([]),p=B("baseURL"),n=S(),u=h(!1),b=[{name:"\u767B\u5F55\u8D26\u53F7"}];L.movieInfo.getPraiseMovie().then(s=>{s.status=="success"?r.value=s.data:console.log("\u83B7\u53D6\u6570\u636E\u5931\u8D25")});const y=s=>{n.push({name:"movieDetail",query:{id:s}})},c=s=>{s.name=="\u767B\u5F55\u8D26\u53F7"&&n.push({name:"login"})};return(s,l)=>{const t=C("van-action-sheet"),w=C("page-view");return a(),P(w,{class:"movie-page bg-[#f5f5f5]"},{default:f(()=>[k(T,null,{right:f(()=>[e("img",{src:F,onClick:l[0]||(l[0]=o=>u.value=!0),alt:""})]),default:f(()=>[te]),_:1}),e("ul",se,[(a(!0),i(I,null,D(g,(o,x)=>(a(),i("li",{key:x,class:A({active:v.value==x}),onClick:xe=>v.value=x},_(o),11,oe))),128)),e("li",ae,[e("img",{src:R,onClick:l[1]||(l[1]=o=>s.$router.push({name:"search"}))})])]),e("div",ne,[e("div",le,[ie,e("div",ce,[(a(!0),i(I,null,D(r.value,o=>(a(),i("div",{class:"w-[90px] praise-item flex-shrink-0",key:o.id,onClick:x=>y(o.id)},[e("div",re,[e("img",{class:"w-full h-full",src:m(p)+o.movie_pc,alt:""},null,8,pe),e("p",ue," \u89C2\u4F17\u8BC4\u5206"+_(o.movie_score),1)]),e("p",de,_(o.movie_name),1)],8,_e))),128))])]),k(Z)]),k(t,{show:u.value,"onUpdate:show":l[2]||(l[2]=o=>u.value=o),actions:b,"cancel-text":"\u53D6\u6D88","close-on-click-action":"",onSelect:c},null,8,["show"])]),_:1})}}};var ye=M(ve,[["__scopeId","data-v-36a3c90e"]]);export{ye as default};
