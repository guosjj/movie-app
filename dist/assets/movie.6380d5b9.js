import{_ as R}from"./search.82d7ce93.js";import{t as S}from"./title-bar.ae13c960.js";import{A as k}from"./index.4d626d5a.js";import{_ as $,u as T,i as C,r as g,a as m,b as I,o,c as L,w as u,d as l,e as b,f as e,g as U,h as v,t as i,F as y,j as D,I as j,k as w,p as N,l as q,n as V}from"./index.6d232491.js";import"./left-arrow.4386ce21.js";var A="./assets/menu.c8016216.svg";const F=["onClick"],z={class:"w-[95px]"},E=["onClick","src"],G={class:"flex flex-col flex-1 justify-between text-[12px] list-none px-[10px]"},H={class:"text-[18pxs] font-bold"},J=D("\u4F17\u4EBA\u8BC4\u5206: "),K={class:"text-[14px] font-bold text-warningColor"},O={class:"flex w-[70px] flex-col justify-center"},Q={key:0,class:"btn-buy",type:"button"},W={key:1,type:"button",class:"btn-presale"},X={name:"hotMovieList",setup(r){const x=T(),p=C("baseURL"),c=g({pageIndex:1,tags:"",movie_name:""}),_=m(!1),s=g({listData:[],pageCount:0}),d=()=>{_.value=!0,k.movieInfo.getListByPage(c).then(n=>{s.listData=s.listData.concat(n.data.listData),s.pageCount=n.data.pageCount}).finally(()=>{_.value=!1})};d();const f=()=>{c.pageIndex++,d()},a=n=>{x.push({name:"movieDetail",query:{id:n}})};return(n,h)=>{const B=I("van-list");return o(),L(B,{class:"bg-white mt-[5px]",loading:_.value,"onUpdate:loading":h[0]||(h[0]=t=>_.value=t),"loading-text":"\u6B63\u5728\u52A0\u8F7D\u7535\u5F71\u6570\u636E","finished-text":"\u6211\u662F\u6709\u5E95\u7EBF\u7684",onLoad:f,finished:c.pageIndex>=s.pageCount},{default:u(()=>[(o(!0),l(y,null,b(s.listData,t=>(o(),l("div",{class:"flex h-[120px] p-[5px]",key:t.id,onClick:P=>a(t.id)},[e("div",z,[e("img",{onClick:U(P=>v(j)([v(p)+t.movie_pc]),["stop"]),class:"w-full h-full",src:v(p)+t.movie_pc,alt:""},null,8,E)]),e("ul",G,[e("li",H,i(t.movie_name),1),e("li",null,[J,e("span",K,i(t.movie_score),1)]),e("li",null,"\u4E3B\u6F14: "+i(t.role),1),e("li",null,"\u4E0A\u6620\u65F6\u95F4:"+i(t.publicTime),1)]),e("div",O,[t.publicTime<new Date().toLocaleDateString()?(o(),l("button",Q,"\u8D2D\u7968")):(o(),l("button",W,"\u9884\u544A"))])],8,F))),128))]),_:1},8,["loading","finished"])}}};var Y=$(X,[["__scopeId","data-v-4f31dafa"]]);const M=r=>(N("data-v-1bb99325"),r=r(),q(),r),Z=D(" \u534E\u590F\u5F71\u9662 "),ee=M(()=>e("img",{src:A,alt:""},null,-1)),te={class:"type-tag bg-white"},se=["onClick"],oe={class:"right-search-icon"},ae={class:"content-box"},ne={class:"px-[10px] box-border bg-white pb-[15px]"},le=M(()=>e("p",{class:"text-gray-700 text-[12px] py-[5px]"},"\u6700\u53D7\u597D\u8BC4\u7684\u7535\u5F71",-1)),ie={class:"praise-list flex overflow-auto"},ce={class:"h-[110px] relative"},_e=["src"],re={class:"text-yellow-500 text-[12px] absolute bottom-[2px] left-[8px] font-bold"},pe={class:"text-[12px] font-bold truncate py-[5px]"},de={name:"movie",setup(r){const x=g(["\u70ED\u6620","\u5F71\u9662","\u5F85\u6620","\u7ECF\u5178\u7535\u5F71"]),p=m(0),c=m([]),_=C("baseURL");return k.movieInfo.getPraiseMovie().then(s=>{s.status=="success"?c.value=s.data:console.log("\u83B7\u53D6\u6570\u636E\u5931\u8D25")}),(s,d)=>{const f=I("page-view");return o(),L(f,{class:"movie-page bg-[#f5f5f5]"},{default:u(()=>[w(S,null,{right:u(()=>[ee]),default:u(()=>[Z]),_:1}),e("ul",te,[(o(!0),l(y,null,b(x,(a,n)=>(o(),l("li",{key:n,class:V({active:p.value==n}),onClick:h=>p.value=n},i(a),11,se))),128)),e("li",oe,[e("img",{src:R,onClick:d[0]||(d[0]=a=>s.$router.push({name:"search"}))})])]),e("div",ae,[e("div",ne,[le,e("div",ie,[(o(!0),l(y,null,b(c.value,a=>(o(),l("div",{class:"w-[90px] praise-item flex-shrink-0",key:a.id},[e("div",ce,[e("img",{class:"w-full h-full",src:v(_)+a.movie_pc,alt:""},null,8,_e),e("p",re," \u89C2\u4F17\u8BC4\u5206"+i(a.movie_score),1)]),e("p",pe,i(a.movie_name),1)]))),128))])]),w(Y)])]),_:1})}}};var ge=$(de,[["__scopeId","data-v-1bb99325"]]);export{ge as default};
